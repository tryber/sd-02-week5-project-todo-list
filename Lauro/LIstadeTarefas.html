<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Lauro's Tarefas Organizator</title>
</head>
<style>
body{
  font-family:sans-serif;
}
h1{
  text-align: center;
}
#tarefas{
    cursor: pointer;
}
.clicada{
  background-color:yellow;
  width: 300px;
}
.cumprido{
 text-decoration: line-through;
 background-color:grey; 
 width: 300px;
}
</style>
<body>
<h1>Bem vindo à Lista de Tarefas!</h1>
  <p>Digite a tarefa que deseja adicionar na caixa abaixo:</p>
  <input type="text" id='digita-texto'>
  <button id="botao-tarefa">Adicionar</button>
<div id="tarefas"></div>
<button id="remove-tarefa">Remover tudo</button>
<button id="remove-cumpridos">Remover cumpridos</button>
</body>
<script>
let tarefa;

let criaTarefa = document.querySelector("#botao-tarefa");

let removeTarefa = document.querySelector("#remove-tarefa");

let removeCumprido = document.querySelector("#remove-cumpridos");

let digitaTexto = document.querySelector('#digita-texto');

let lista = document.querySelector('#tarefas');

//adiciona a tarefa
criaTarefa.addEventListener("click", function() {
  let tarefa = document.createElement('div');
  tarefa.setAttribute ('class', 'tarefa-aberta');
  tarefa.innerHTML = digitaTexto.value;
  tarefas.appendChild(tarefa);
  digitaTexto.value=null;
});

//riscar item com duplo clique
lista.addEventListener('dblclick', function(event){
 event.target.classList.add('cumprido');
})

lista.addEventListener('dblclick', function(event){
 if (event.target.className =='cumprido'){
    event.target.classList.remove('cumprido');
}
})

//destaca a tarefa quando clicada, e remove o destaque das demais
lista.addEventListener('click', function(event){
  //para retirar os anteriores
  tarefa = document.querySelectorAll('.tarefa-aberta');
  tamanhoLista = document.querySelectorAll('.tarefa-aberta').length
  for (i=0; i < tamanhoLista;i++){
    tarefa[i].classList.remove('clicada');
  }
  //para destacar
  event.target.classList.add("clicada");
  })

//apaga todas as tarefas
removeTarefa.addEventListener("click", function() {
  tarefa = document.querySelectorAll('.tarefa-aberta, .cumprido, .clicada');
  listaDeTarefas = document.querySelectorAll('.tarefa-aberta, .cumprido, #clicada').length;
  for (i=0; i < listaDeTarefas;i++){
    tarefa[i].remove()
}
});

//apaga só as cumpridas
removeCumprido.addEventListener("click", function() {
  tarefa = document.querySelectorAll('.cumprido');
  tamanhoLista = document.querySelectorAll('.cumprido').length
  for (i=0; i < tamanhoLista;i++){
    tarefa[i].remove()
}
});

</script>
</html>
